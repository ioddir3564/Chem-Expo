<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.1.1">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/album/">



    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="css/mission-control.css" rel="stylesheet">
  </head>
  <body>
    <div class="wrapper">
      <img src="imgs/Chem expo logo.png" alt="logo" class="logo">
    </div>

<main role="main">
    <div id="create" class="overlay">
      <div id="text-box">
        <button onclick="off();" style="float: right;">X</button>
        <h1>Create Post</h1>
    <div style="display:flex;">
    <form action="/createPost" method="POST" style="width: 50%; border-right: solid black; border-right-width: 1px;">
        <label for="">Author</label>
        <br>
        <input type="text" name="author">
        <br>
        <label for="" class="input-label">Cover Image</label>
        <br>
        <input type="text" class="input-box" name="mainImg">
        <br>
        <label for="" class="input-label">Title</label>
        <br>
        <input type="text" class="input-box" name="title">
<br>
        <label for="" class="input-label">Date</label>
        <br>
        <input type="text" class="input-box" name="date">
<br>
        <label for="" class="input-label">Content</label>
        <br>
        <textarea name="content" cols="20" rows="10" id="content"></textarea>
        <br>
        <button type="submit">Post</button>
    </form>
    <div style="padding-left: 10px;">
      <h1 style="height: 40px; width: 100%;">Select an HTML Element</h1>
      <ul style="display:flex; justify-content:space-around; list-style-type: none;">
        <li><button onclick="header();">Header</button></li>
        <li><button onclick="paragraph();">Paragraph</button></li>
        <li><button onclick="image();">Image</button></li>
        <li><button onclick="video();">YouTube Video</button></li>
        <li><button onclick="br();">Line Break</button></li>
      </ul>
      <button onclick="update();">Update</button>
      <div id="addition" style="overflow-y: scroll; width: 400px; height: 400px;">

      </div>
    </div>
  </div>
</div>
      </div>
  <section id="dark" class="jumbotron text-center">
    <div class="container">
      <!-- <div class="column" style="position: relative; top: -30px; border-right: 1px solid black; padding-bottom: 70px;">
      <p class="lead text-muted">Welcome to your admin dashboard! You may add, remove, or edit any posts here.</p> 
    </div>
    
    <div class="column" style="border-right: 1px solid black; padding-bottom: 70px;">
      <p class="lead text-muted">For author field, just put your first name wit first letter capitalized, or else your image won't show in your post.</p>
    </div>

    <div class="column" style="border-right: 1px solid black; padding-bottom: 70px;">
      <p class="lead text-muted">To add images use " ^+img_url+^ ". To add styling, insert $ and divide each style with ";" before the closing "+^".</p>
      </div>
      <div class="column" style="position: relative; top: -89px;">
        <p class="lead text-muted">Example: ^+https://images.pexels.com/photos/5192248$height:200px;+^</p>
      </div>
       -->
       <div>
            
        <div class="top-content">
<div class="container">
    
    <div class="row">
        <div class="col col-md-10 offset-md-1 col-lg-8 offset-lg-2">
            <h1>Your Posts</h1>
            <div class="description">
                <p>
                  Enjoy Writing Chemistry!
                </p>
                            
            </div>
        </div>
    </div>
    
    
    <div class="row">
        <div class="col col-md-10 offset-md-1 col-lg-8 offset-lg-2">
    
            <div id="carousel-example" class="carousel slide">
                <ol class="carousel-indicators">
                    <li data-target="#carousel-example" data-slide-to="0" class="active"></li>
                    <li data-target="#carousel-example" data-slide-to="1"></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/xLkt8a_WeUI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                    <div class="carousel-item">
                        <div class="embed-responsive embed-responsive-16by9">
                            <iframe frameborder="0" scrolling="no" width="100%" height="100%" src="imgs/instr1.png" name="imgbox" id="imgbox">
                              <!-- <p>iframes are not supported by your browser.</p> -->
                            </iframe><br />


                            <a href="imgs/instr1.png" target="imgbox" style="display: none;">Red Ball</a><br />
                            <!-- <a href="../images/floatingball.gif" target="imgbox" style="display: none;">Floating Ball</a><br />
                            <a href="../images/eightball.gif" target="imgbox" style="display: none;">Eight Ball</a> -->
                        </div>
                    </div>
                    
                </div>
                <a class="carousel-control-prev" href="#carousel-example" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carousel-example" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
    
        </div>
    </div>
    
</div>
</div>

    </div>
    </div>
    <a onclick="on();" href="#" id="create-blog" class="btn btn-primary my-2">Create Blog Post</a>
  </section>

  <div class="album py-5 bg-light">
    <div class="container">

      <div class="row">
        <% for (var i = posts.length-1; i >= 0; i--) { %>
        <div class="col-md-4">
          <div class="card mb-4 shadow-sm">
            <img style="width: 100%; height: 20%;" src="<%= posts[i].mainImg %> " alt="">
            <form id="<%= i %>" class="edit-content" action="/save" method="POST">
            <label >Title</label>
            <input type="text" name="title" value="<%= posts[i].title %>">
            <a style="float: right;" href="/mission-control">X</a>
            <br>
            <label >Date</label>
            <input type="text" name="date" value="<%= posts[i].date %>">
            <br>
            <label>Author</label>
            <input type="text" name="author" value="<%= posts[i].author %>">
  
            <textarea name="updatedContent" cols="30" rows="10"><%= posts[i].content %></textarea>
            <h1 style="font-size: small;">The id of this post is: <%= posts[i]._id %> Please enter it in the following box and press save to confirm save.</h1>
            <input type="text" name="postID" required>
            <button type="submit">Save</button>
        </form>
        <form action="/delete" method="POST">
          <label for="">The id of this post is: <%= posts[i]._id %> Please enter it in the following box and press delete to delete the post.</label>
          <input type="text" name="postID" id="" required>
          <button type="submit">Delete</button>
        </form>
            <div class="card-body">
                <h1><%= posts[i].title %></h1>
              <p class="card-text" style=" width: 100%;white-space: nowrap;overflow: hidden;text-overflow:unset; padding-right: 2px;"><%= posts[i].content %></p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  
                  <button id="<%= i %>" onclick="edit(this.id);" type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                </div>
          
              </div>
            </div>
          </div>
        </div>
        <%   } %>
      </div>
    </div>
  </div>

</main>

<footer class="text-muted">
  <div class="container">
    <p class="float-right">
      <a href="#">Back to top</a>
    </p>
    <p>Have fun in sharing your chemistry knowledge!</p>
    <p>&copy; Chem Expo</p>
  </div>
</footer>
<script>
  var div = document.getElementById('addition')
  function removeElem(element, input){
    console.log(div.childNodes);
    div.removeChild(element)
    div.removeChild(input)
    update()
  }

  function update(){
    console.log('hey');
    document.getElementById('content').value = ''
    console.log(content);
    console.log(div.childNodes);
    div.childNodes.forEach((item) => {
      console.log(item);
      console.log(item.nodeName);
      if(item.nodeName == "INPUT"){
        document.getElementById('content').value += item.value
        console.log(document.getElementById('content').value);
      }
    })
    // for (var i = 0; div.childNodes.length; i++){
    //   // console.log(div.childNodes[i]);
    //   // console.log(div.childNodes[i].tagName);
    //   if (i % 2 != 0){
    //     content.value += div.childNodes[i].value
    //   }
    // }
  }

  function header(){
    var input = document.createElement('input')
    input.style.width = "350px"
    input.value = '<h1 style="_styling_here_">_text_here_</h1>'
    var x = document.createElement('button')
    x.innerHTML = 'X'
    x.id = div.childNodes.length-1;
    x.onclick = function() {removeElem(this, input)}
    div.appendChild(x)
    div.appendChild(input)
    var br = document.createElement('BR')
    div.appendChild(br)
  }
  function paragraph(){
    var input = document.createElement('input')
    input.style.width = "350px"
    input.value = '<p style="_styling_here_">_text_here_</p>'
    var x = document.createElement('button')
    x.innerHTML = 'X'
    x.id = div.childNodes.length-1;
    x.onclick = function() {removeElem(this, input)}
    div.appendChild(x)
    div.appendChild(input)
    var br = document.createElement('BR')
    div.appendChild(br)
  }

  function image(){
    var input = document.createElement('input')
    input.style.width = "350px"
    input.value = '<img src="_link_here_" style="_styling_here_">'
    var x = document.createElement('button')
    x.innerHTML = 'X'
    x.id = div.childNodes.length-1;
    x.onclick = function() {removeElem(this, input)}
    div.appendChild(x)
    div.appendChild(input)
    var br = document.createElement('BR')
    div.appendChild(br)
  }

  function video(){
    var input = document.createElement('input')
    input.style.width = "350px"
    input.value = '<iframe width="500" height="345" src="_link_here_"</iframe>'
    var x = document.createElement('button')
    x.innerHTML = 'X'
    x.id = div.childNodes.length-1;
    x.onclick = function() {removeElem(this, input)}
    div.appendChild(x)
    div.appendChild(input)
    var br = document.createElement('BR')
    div.appendChild(br)
  }

  function br(){
    var input = document.createElement('input')
    input.style.width = "350px"
    input.value = '<br>'
    var x = document.createElement('button')
    x.innerHTML = 'X'
    x.id = div.childNodes.length-1;
    x.onclick = function() {removeElem(this, input)}
    div.appendChild(x)
    div.appendChild(input)
    var br = document.createElement('BR')
    div.appendChild(br)
  }
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/docs/4.5/assets/js/vendor/jquery.slim.min.js"><\/script>')</script><script src="/docs/4.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
<script src="js/mission-control.js" charset="utf-8"></script>
</body>

      
</html>


